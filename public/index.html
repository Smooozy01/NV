<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Выкуп Авто Астана</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>

<div class="full-image">
    <a href="https://wa.me/77055401332" target="_blank"><button class="button_whatsapp"></button></a>
    <a href="https://instagram.com/trade_inn_astana" target="_blank"><button class="button_instagram"></button></a>
        
        <div class="overlay"></div>
        <div class="text-container">
            <h1 class="mainText" style="margin-top: 10px; color: white">Автомобили в аренду с правом выкупа</h1>
            <h1 class="subText" style="color: white;">Одобрение в 95% случаев, низкий первоначальный взнос и быстрое оформление.</h1>
        </div>
<!--        <div class="scrollDown" onclick="scrollDown()" style="justify-content: center"></div>-->
    
        <div class="mainButton" onclick="scrollDown('pickAuto')"> Выбрать Авто </div>
        <div class="mainButton" onclick="scrollDown('Zayava')" style="bottom: 7%"> Записаться на Тест-Драйв </div>
    
</div>

<div class="rasch newDiv" style="background-color: white;" id="pickAuto">
    <div class="text-container">
        <h1 class="mainText"> Выберите автомобиль</h1>
    </div>
</div>
<br><br>

<div class="container" id="cars">

</div>

<div class="calculatorPlace">
    <div class="calculator" id="app">

        <h1 class="subText desc"> Месяцы: {{ months }}</h1>
        <input type="range" id="Months" v-model="months" min="6" max="30">

        <h1 class="subText desc"> Платеж в день: {{ Intl.NumberFormat().format(dailyP) }}</h1>
        <input type="range" id="DailyCost" v-model="dailyP" min="12000" max="20000" step=1000>

        <h1 class="subText desc" style="margin-top: 30px"> Платеж в месяц: {{ Intl.NumberFormat().format(dailyP * 26) }}</h1>

    </div>
</div>

<nav class="navbar" style="height: 12vh; background-color: white;">
    <ul> <li><a href="cars.html" style="color: #5ea4df" id="avtonashi">Все наши Автомобили</a></li> </ul>
</nav>

<div class="fullDiv" id="pros">
    <div class="text-container">
        <h1 class="mainText" style="text-align: center; margin-bottom: 40px">Аренда авто с выкупом: просто и удобно</h1>
        <h1 class="subText" style="font-size: 24px; margin: 0 auto;">Выбирайте автомобиль, который вам нравится, определяйте срок аренды, а также удобные для вас ежемесячные платежи, чтобы все соответствовало вашим требованиям.</h1>

        
        <h1 class="mainText" style="font-size: 20px; text-align: left;"> Выбор автомобиля </h1>
        <h1 class="subText" style="font-size: 20px; text-align: left; "> Вы можете выбрать автомобиль из нашего парка или приобрести его у сторонних лиц. </h1>
        
        <h1 class="mainText" style="font-size: 20px; text-align: left;"> Низкий первоначальный взнос </h1>
        <h1 class="subText" style="font-size: 20px; text-align: left; "> Мы предлагаем выгодные условия с низким первоначальным взносом. </h1>

        <h1 class="mainText" style="font-size: 20px; text-align: left;"> Быстрое оформление </h1>
        <h1 class="subText" style="font-size: 20px; text-align: left; "> Для оформления нужны только удостоверение личности и водительские права. </h1>

        <h1 class="mainText" style="font-size: 20px; text-align: left;"> Отсутствие волокиты с документами </h1>
        <h1 class="subText" style="font-size: 20px; text-align: left; ">  Прозрачные условия без лишних сложностей. </h1>

        <h1 class="mainText" style="font-size: 20px; text-align: left;"> Досрочное погашение </h1>
        <h1 class="subText" style="font-size: 20px; text-align: left; "> Возможность досрочного выкупа автомобиля. </h1>

        <h1 class="mainText" style="font-size: 20px; text-align: left;"> Одобрение в 95% случаев </h1>
        <h1 class="subText" style="font-size: 20px; text-align: left; "> Кредитная история не важна — одобрение в 95% случаев. </h1>
    </div>
</div>

<div id="review">
    
</div>

<div class="newDiv" id="below" style="background-color: white">
    <div class="text-container">
        <h1 class="subText" style="font-size: 32px; text-align: center; margin-bottom: 40px">Условия аренды авто с правом выкупа</h1>
        <h1 class="subText" style="margin: 0 auto; max-width: 750px; line-height: 1.5">Наша компания предлагает автомобили в аренду с возможностью последующего выкупа. Вы можете выбрать автомобиль из нашего парка или приобрести его у сторонних лиц. Мы предоставляем выгодные условия: низкий первоначальный взнос, быстрое оформление и отсутствие волокиты с документами. Кредитная история не важна — одобрение в 95% случаев.
        </h1>
    </div>
</div>

<div class="ZayavaDiv"  id="Zayava">
    
    <div id="popup" class="popup"> Заявка успешно отправлена! </div>
    
    <form id="requestForm">
        <div class="text-containerZayava">
            <h1 class="mainText" style="color: black; font-size: 40px; text-align: center; margin-bottom: 40px"> Оставьте заявку на Тест-Драйв </h1>
            <h1 class="subText" style="font-size: 24px; text-align: center; margin: 0 auto 80px;"> Мы с радостью поможем вам найти авто, которое идеально подойдет именно вам.</h1>

            <div class="input-container">
                <div class="input-group">
                    <label for="email" class="subText">Электронная почта</label>
                    <input type="text" id="email" class="custom-input" placeholder="a@gmail.com">
                </div>

                <div class="input-group">
                    <label for="name" class="subText">Имя</label>
                    <input type="text" id="name" class="custom-input" placeholder="Shavkat Rakhmonov">
                </div>

                <div class="input-group">
                    <label for="phone" class="subText">Телефон</label>
                    <input type="text" id="phone" class="custom-input" placeholder="87012345678">
                </div>
            </div>
        </div>

        <button class="button" type="submit" id="knopka"></button> 
    </form>
</div>

<nav class="navbar">
    <ul>
        <li><a href="#Zayava">Заказать обратный звонок</a></li>
        <li><a href="#map">Где мы находимся</a></li>
        <li><a href="#pros">Наши приемущества</a></li>
        <li><a href="#contact">Contact</a></li>
    </ul>
</nav>

<div style="position:relative;overflow:hidden;" id="map">
    <a href="https://yandex.com/maps/163/astana/?utm_medium=mapframe&utm_source=maps"
       style="color:#eee;font-size:12px;position:absolute;top:0px;">Astana
    </a>
    <a href="https://yandex.com/maps/163/astana/house/beybitshilik_koshesi_25/Y0gYcgZoTUUGQFtrfX12c31lZw==/?ll=71.418401%2C51.172163&utm_medium=mapframe&utm_source=maps&z=17.14" 
        style="color:#eee;font-size:12px;position:absolute;top:14px;">Beıbitshilik kóshesi, 25 — Yandex Maps
</a>
    <iframe src="https://yandex.com/map-widget/v1/?ll=71.418401%2C51.172163&mode=search&ol=geo&ouri=ymapsbm1%3A%2F%2Fgeo%3Fdata%3DCgg2NzM1MTk3MRJJ0prQsNC30LDSm9GB0YLQsNC9LCDQkNGB0YLQsNC90LAsINCR0LXQudCx0ZbRgtGI0ZbQu9GW0Log0LrTqdGI0LXRgdGWLCAyNSIKDTnWjkIVS7BMQg%2C%2C&z=17.14"
            width="100%" height="400" frameborder="1" allowfullscreen="true" style="position:relative;">
    </iframe>
</div>

<script src="script.js"> </script>
<script>
    const { createApp, ref, watch, onMounted } = Vue;

    createApp({
        setup() {
            const dailyP = ref(16000);
            const months = ref(20);
            const carCost = ref(6000000);

            function calculateMonths() {
                if (carCost.value === 0 || dailyP.value === 0) return 0;
                const netMonthlyPayment = (dailyP.value * 26) - (carCost.value * 0.03);
                return Math.round(carCost.value / netMonthlyPayment);
            }

            function calculateDailyP() {
                if (carCost.value === 0 || months.value === 0) return 0;
                return Math.round(((carCost.value / months.value + (carCost.value * 0.03)) / 26 / 1000) * 2) * 500;
            }

            watch(dailyP, (newDailyP) => {
                months.value = calculateMonths();
            });

            watch(months, (newMonths) => {
                dailyP.value = calculateDailyP();
            });

            watch(carCost, () => {
                months.value = calculateMonths();
                dailyP.value = calculateDailyP();
            });

            function updateCost() {
                const selectedCar = document.querySelector('.selectedCar');
                if (selectedCar) {
                    const ps = selectedCar.querySelectorAll('p');
                    carCost.value = parseInt(ps[1]?.textContent.replace(/\s+/g, '') || "0", 10);
                }
            }

            onMounted(() => {
                updateCost(); // Initial update

                const observer = new MutationObserver(() => {
                    updateCost();
                });

                observer.observe(document.body, {
                    childList: true,
                    subtree: true,
                    attributes: true,
                    attributeFilter: ['class']
                });
            });

            return { months, dailyP, selectedCarCost: carCost };
        }
    }).mount("#app");
</script>




</body>
</html>
